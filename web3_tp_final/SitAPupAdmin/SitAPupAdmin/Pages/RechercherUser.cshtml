@page
@model SitAPupAdmin.Pages.RechercherUserModel
@{
}

<div id="rechercheParID" >
    <label for="idRecherche">ID du User recherché</label>
    <input type="text" name="idRecherche" id="idRecherche" />
    <button class="btn" onclick="rechercheUserParID()"> Rechercher </button>
</div>

<script>
    function rechercheUserParID() {
        var id = document.getElementById("idRecherche").value
        var url = "https://localhost:44308/api/Users/" + id
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                var divReponse = document.getElementById("reponse");
                divReponse.innerHTML = ""
                var reponse = this.responseText;
                var tableauReponse = JSON.parse(reponse);
                var texte = document.createElement("p");

                texte.innerHTML += "ID :" + tableauReponse.userId + "<br> Username : " + tableauReponse.userName + "<br> email : " + tableauReponse.email + "<br> Address " + tableauReponse.address + "<br>  phone Number :" + tableauReponse.phoneNumber

                divReponse.appendChild(texte);
                cacherToutLesFormulaire()
            }
        };
        xhttp.open("GET", url, true);
        xhttp.send();
    }
</script>
