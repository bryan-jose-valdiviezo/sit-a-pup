@page
@model SitAPupAdmin.Pages.SupprimerAdminModel
@{
}

<div class="col-3">
    <div id="supprimerAdmin">
        <label for="idSupprimerAdmin">Id a supprimer</label>
        <input type="text" id="idSupprimerAdmin" />
        <button class="btn btn-primary" onclick="deleteAdmin()">Supprimer</button>
    </div>
</div>

<script>
    function deleteAdmin() {
        var id = document.getElementById("idSupprimerAdmin").value
        var url = "https://localhost:44308/api/Admins/" + id
        var xhttp = new XMLHttpRequest()
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && (this.status == 200 || this.status == 204)) {
                alert("Suppression Réussie")
                getAllUsers()
                cacherToutLesFormulaire()
            }
        };
        xhttp.open("DELETE", url, true)
        xhttp.send();
    }

</script>
